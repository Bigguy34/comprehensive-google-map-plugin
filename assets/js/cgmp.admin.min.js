var jQueryCgmp=jQuery.noConflict();function sendShortcodeToEditor(a){a=buildShortcode("#"+a,jQueryCgmp);alert("Select the generated shortcode text below including the square brackets and press CTRL+C (CMMND+C on Mac) to copy:\n\n"+a+"\n\nPaste the copied text into your post/page")}
function buildShortcode(a,b){var e="[google-map-v3 ";b(a+" .shortcodeitem").each(function(){var a=b(this).attr("role"),f=b(this).attr("value");"checkbox"==b(this).attr("type")&&(f=b(this).is(":checked"));"radio"==b(this).attr("type")&&(a=b(this).attr("name"),f=b("input[name="+a+"]:checked").val());if("undefined"==typeof a||"undefined"==a)a=b(this).attr("id");null!=a&&""!=a&&null!=f&&""!=f&&(0<a.indexOf("_")&&(a=a.replace(/_/g,"")),0<a.indexOf("hidden")&&(a=a.replace(/hidden/g,"")),e+=a+'="'+f+'" ')});
e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");return e+="]"}
function hideShowCustomMarker(a){if(-1==a.indexOf("_i_")){var b=jQueryCgmp("#"+a).val(),a=a.replace("hidden",""),e=a.replace("mashup","icons"),h=a.replace("addmarkermashup","kml");"true"==b?(jQueryCgmp("#"+h).closest("fieldset").hide(),jQueryCgmp("#"+e).closest("fieldset").hide(),jQueryCgmp("#"+a).attr("checked","checked")):(jQueryCgmp("#"+h).closest("fieldset").show(),jQueryCgmp("#"+e).closest("fieldset").show(),jQueryCgmp("#"+a).removeAttr("checked"))}}
(function(a){function b(){j=[];a.map(a("div#widgets-right  ul.token-input-list, div#google-map-container-metabox ul.token-input-list"),function(c){var g=a(c).attr("id");if(null!=g){var d=a("#"+c.id+"hidden").val(),b=a(c).tokenInput({holderId:g});null!=d&&""!=d&&(c=d.split("|"),a.map(c,function(a){b.add(a)}));j.push({id:g,obj:b})}})}function e(){a("input.add-additonal-location").click(function(){var c=a(this).attr("id")+"list",g={};a.map(a(j),function(a){a.id==c&&(g=a.obj)});var d="#"+a(this).attr("id")+
"input",b="#"+a(this).attr("id")+"icons",e=a(b+" input[name='custom-icons-radio']:checked").val();if(null!=a(d).val()&&""!=a(d).val()){var i=a(d).val().replace(/^\s+|\s+$/g,"");/^(?=.*(\d|[a-zA-Z])).{5,}$/.test(i)?(g.add(i+CGMPGlobal.sep+e),f(a(b)),a(b+" img#default-marker-icon").attr("style","cursor: default; "),a(b+" img#default-marker-icon").addClass("selected-marker-image"),a(b+" input#default-marker-icon-radio").attr("checked","checked"),a(d).attr("style",""),a(d).addClass("default-marker-icon"),
a(d).val(""),a(d).focus()):h(d)}else h(d);return!1})}function h(c){a(c).fadeIn("slow",function(){a(this).addClass("errorToken")});a(c).focus().fadeOut(function(){a(this).removeClass("errorToken");a(this).fadeIn("slow")})}function f(c){a.each(c.children(),function(){var c=a(this).find("img");null!=c&&(a(c).attr("style",""),a(c).removeClass("selected-marker-image"))})}function l(){a("div.custom-icons-placeholder a img").click(function(){if(null!=a(this).attr("src")){var c=a(this).closest("div.custom-icons-placeholder");
f(c);a(this).parent("a").siblings('input[name="custom-icons-radio"]').attr("checked","checked");i(c,a(this))}});a("input[name='custom-icons-radio']").click(function(){var c=a(this).siblings("a").children("img");if(null!=a(c).attr("src")){var b=a(this).closest("div.custom-icons-placeholder");f(b);i(b,c)}})}function i(c,b){a(b).attr("style","cursor: default; ");a(b).addClass("selected-marker-image");var d=a(b).attr("src"),e=a(c).attr("id").replace("icons","input");a("#"+e).attr("style","background: url('"+
d+"') no-repeat scroll 0px 0px #F9F9F9 !important");a("#"+e).removeClass("default-marker-icon");a("#"+e).focus()}function m(){a("a.google-map-tooltip-marker").hover(function(){var c=a(this).attr("id");a("a#"+c+"[title]").tooltip({effect:"slide",opacity:0.8,tipClass:"google-map-tooltip",offset:[-5,0],events:{def:"click, mouseleave"}});a("a#"+c).mouseout(function(){a(this).data("tooltip")&&a(this).data("tooltip").hide()})})}function n(){a("input.marker-geo-mashup").change(function(){var c=a(this).attr("id"),
b=c.replace("mashup","icons"),d=c.replace("addmarkermashup","kml");a(this).is(":checked")?(a("#"+d).closest("fieldset").fadeOut(),a("#"+b).closest("fieldset").fadeOut(),a("#"+c+"hidden").val("true")):(a("#"+d).closest("fieldset").fadeIn(),a("#"+b).closest("fieldset").fadeIn(),a("#"+c+"hidden").val("false"))})}function k(){b();e();m();l();n()}var j=[];a(document).ready(function(){k();"function"==typeof a("ul.tools-tabs-nav").tabs&&a("ul.tools-tabs-nav").tabs("div.tools-tab-body",{tabs:"li",effect:"default"})});
a(document).ajaxSuccess(function(c,b,d){a(document).ready(function(){null!=d.data&&0<d.data.indexOf("id_base=comprehensivegooglemap")&&k()})})})(jQueryCgmp);
