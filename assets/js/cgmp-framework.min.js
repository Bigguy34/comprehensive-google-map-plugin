var jQueryCgmp=jQuery.noConflict();(function(){jQueryCgmp.GoogleMapOrchestrator=function(b,k){jQueryCgmp.extend(this,jQueryCgmp.GoogleMapOrchestrator.defaultOptions);jQueryCgmp.GoogleMapOrchestrator.AnimationType={DROP:0,BOUNCE:1};jQueryCgmp.GoogleMapOrchestrator.LayerType={TRAFFIC:0,BIKE:1,KML:2,PANORAMIO:3};jQueryCgmp.GoogleMapOrchestrator.ControlType={PAN:0,ZOOM:1,SCALE:2,STREETVIEW:3,MAPTYPE:4,SCROLLWHEEL:5};var k=k||{};var i=k.placeHolder||"map";var j=k.zoom||16;var d=k.mapType||google.maps.MapTypeId.ROADMAP;var e=k.bubbleAutoPan||"true";if(d=="ROADMAP"){d=google.maps.MapTypeId.ROADMAP}else{if(d=="SATELLITE"){d=google.maps.MapTypeId.SATELLITE}else{if(d=="HYBRID"){d=google.maps.MapTypeId.HYBRID}else{if(d=="TERRAIN"){d=google.maps.MapTypeId.TERRAIN}}}}var h=b;h.setOptions({zoom:j,mapTypeId:d,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU}});var c=new jQueryCgmp.LayerBuilder(h);var f=new jQueryCgmp.MarkerBuilder(h,e);this.isBuildAddressMarkersCalled=function(){return f.isBuildAddressMarkersCalled()};google.maps.event.addListener(h,"click",function(){f.shiftMapToOriginalZoomAndLocation()});function g(){if(typeof h=="undefined"||!h||h==null){a.fatal("We do not have instance of the Google API object. Aborting..");return false}return true}this.buildAddressMarkers=function(n,l,m){if(!g()){return false}f.buildAddressMarkers(n,l,m)};this.buildLayer=function(n,l,m){if(!g()){return false}switch(n){case jQueryCgmp.GoogleMapOrchestrator.LayerType.TRAFFIC:c.buildTrafficLayer();break;case jQueryCgmp.GoogleMapOrchestrator.LayerType.BIKE:c.buildBikeLayer();break;case jQueryCgmp.GoogleMapOrchestrator.LayerType.PANORAMIO:if(m!=null&&m!=""){a.info("Going to filter Panoramio images by "+m);c.buildPanoramioLayer(m)}else{c.buildPanoramioLayer()}break;case jQueryCgmp.GoogleMapOrchestrator.LayerType.KML:if(l==null||l==""){a.error("KML URL must be passed for the KML Layer. Aborting..");return false}c.buildKmlLayer(l);break;default:a.warn("Unknown layer type: "+n)}};this.switchMapControl=function(m,l){if(!g()){return false}switch(l){case jQueryCgmp.GoogleMapOrchestrator.ControlType.SCROLLWHEEL:h.setOptions({scrollwheel:(m=="false"?false:true)});break;case jQueryCgmp.GoogleMapOrchestrator.ControlType.MAPTYPE:h.setOptions({mapTypeControl:(m=="false"?false:true)});break;case jQueryCgmp.GoogleMapOrchestrator.ControlType.PAN:h.setOptions({panControl:(m=="false"?false:true)});break;case jQueryCgmp.GoogleMapOrchestrator.ControlType.ZOOM:h.setOptions({zoomControl:(m=="false"?false:true)});break;case jQueryCgmp.GoogleMapOrchestrator.ControlType.SCALE:h.setOptions({scaleControl:(m=="false"?false:true)});break;case jQueryCgmp.GoogleMapOrchestrator.ControlType.STREETVIEW:h.setOptions({streetViewControl:(m=="false"?false:true)});break;default:a.warn("Unknown map control type: "+l)}}};jQueryCgmp.Utils=function(){jQueryCgmp.extend(this,jQueryCgmp.Utils.defaultOptions);var c=/^([a-zA-Z0-9?(/\-.,\s{1,})]+)$/;var b=/^([0-9?(\-.,\s{1,})]+)$/;this.isNumeric=function(d){return b.test(d)};this.isAlphaNumeric=function(d){return c.test(d)}};jQueryCgmp.LayerBuilder=function(b){jQueryCgmp.extend(this,jQueryCgmp.LayerBuilder.defaultOptions);var d=b;this.buildTrafficLayer=function(){var e=new google.maps.TrafficLayer();e.setMap(d)};this.buildBikeLayer=function(){var e=new google.maps.BicyclingLayer();e.setMap(d)};this.buildPanoramioLayer=function(f){if(typeof google.maps.panoramio=="undefined"||!google.maps.panoramio||google.maps.panoramio==null){a.error("We cannot access Panoramio library. Aborting..");return false}var e=new google.maps.panoramio.PanoramioLayer();if(e){if(f!=null&&f!=""){e.setUserId(f)}e.setMap(d)}else{a.error("Could not instantiate Panoramio object. Aborting..")}};this.buildKmlLayer=function(e){if(e.toLowerCase().indexOf("http")<0){a.error("KML URL must start with HTTP(S). Aborting..");return false}var f=new google.maps.KmlLayer(e);google.maps.event.addListener(f,"status_changed",function(){c(f)});f.setMap(d)};function c(f){var e=f.getStatus();if(e==google.maps.KmlLayerStatus.OK){}else{var g="";switch(e){case google.maps.KmlLayerStatus.DOCUMENT_NOT_FOUND:g="The KML file could not be found. Most likely it is an invalid URL, or the document is not publicly available.";break;case google.maps.KmlLayerStatus.DOCUMENT_TOO_LARGE:g="The KML file exceeds the file size limits of KmlLayer.";break;case google.maps.KmlLayerStatus.FETCH_ERROR:g="The KML file could not be fetched.";break;case google.maps.KmlLayerStatus.INVALID_DOCUMENT:g="The KML file is not a valid KML, KMZ or GeoRSS document.";break;case google.maps.KmlLayerStatus.INVALID_REQUEST:g="The KmlLayer is invalid.";break;case google.maps.KmlLayerStatus.LIMITS_EXCEEDED:g="The KML file exceeds the feature limits of KmlLayer.";break;case google.maps.KmlLayerStatus.TIMED_OUT:g="The KML file could not be loaded within a reasonable amount of time.";break;case google.maps.KmlLayerStatus.UNKNOWN:g="The KML file failed to load for an unknown reason.";break}if(g!=""){alert("ATTENTION! (by Comprehensive Google Map Plugin)\n\nDear blog/website owner,\nGoogle returned the following error when trying to load KML file:\n\n"+g+" ("+e+")");a.error("Google returned KML error: "+g+" ("+e+")");a.error("KML file: "+f.getUrl())}}}};jQueryCgmp.MarkerBuilder=function(x,f){jQueryCgmp.extend(this,jQueryCgmp.MarkerBuilder.defaultOptions);var N=[];var D=[];var A=[];var s=false;var I=null;var M=false;var h=x;var i=null;var f=f;var t=null;var j=null;var n=5;var y=h.getDiv().id;var O=new jQueryCgmp.Utils();var o=new google.maps.Geocoder();var C=new google.maps.LatLngBounds();var E=new google.maps.InfoWindow();var z=new google.maps.StreetViewService();var v={draggable:true};var u=new google.maps.DirectionsRenderer(v);u.setPanel(document.getElementById("rendered-directions-placeholder-"+y));var H=new google.maps.DirectionsService();function F(){if(t!=null){if(h.setCenter()!=t.getCenter()){a.info("Panning map back to its original bounds center: "+t.getCenter()+" and updated zoom: "+n);h.setCenter(t.getCenter());h.setZoom(n)}}else{if(j!=null){a.info("Panning map back to its original center: "+j+" and updated zoom: "+n);h.setCenter(j);h.setZoom(n)}}}function B(P){jQueryCgmp(P+" input#a_address").val("");jQueryCgmp(P+" input#b_address").val("");jQueryCgmp(P+" input#a_address").removeClass("d_error");jQueryCgmp(P+" input#b_address").removeClass("d_error")}function c(Q,R){var T=g(Q.content,R);var P="div#direction-controls-placeholder-"+y;var S=jQueryCgmp("div#rendered-directions-placeholder-"+y);google.maps.event.addListener(Q,"click",function(){B(P);jQueryCgmp(P).fadeOut();u.setMap(null);S.html("");S.hide();jQueryCgmp(P+" button#print_sub").hide();E.setContent(T.bubbleContent);E.setOptions({disableAutoPan:f=="true"?false:true});E.open(x,this)});w(Q,T,P);r(Q,T,P,S)}function r(Q,T,P,S){var U="div#bubble-"+T.bubbleHolderId;var R=Q.content;R=R.replace("Lat/Long: ","");jQueryCgmp(U+" a.dirToHereTrigger").live("click",function(){var V=this.id;if(V=="toHere-"+T.bubbleHolderId){jQueryCgmp(P).fadeIn();jQueryCgmp(P+" input#a_address").val("");jQueryCgmp(P+" input#b_address").val(R);jQueryCgmp(P+" input#radio_miles").attr("checked","checked")}});jQueryCgmp(U+" a.dirFromHereTrigger").live("click",function(){var V=this.id;if(V=="fromHere-"+T.bubbleHolderId){jQueryCgmp(P).fadeIn();jQueryCgmp(P+" input#a_address").val(R);jQueryCgmp(P+" input#b_address").val("");jQueryCgmp(P+" input#radio_miles").attr("checked","checked")}});jQueryCgmp(P+" div.d_close-wrapper").live("click",function(V){B(P);jQueryCgmp(this).parent().fadeOut();u.setMap(null);S.html("");S.hide();jQueryCgmp(P+" button#print_sub").hide();F();return false})}function w(Q,R,P){z.getPanoramaByLocation(Q.position,50,function(T,S){if(S===google.maps.StreetViewStatus.OK){jQueryCgmp("a#trigger-"+R.bubbleHolderId).live("click",function(){var V={navigationControl:true,enableCloseButton:true,addressControl:false,linksControl:true,scrollwheel:false,addressControlOptions:{position:google.maps.ControlPosition.BOTTOM},position:Q.position,pov:{heading:165,pitch:0,zoom:1}};var U=new google.maps.StreetViewPanorama(document.getElementById("bubble-"+R.bubbleHolderId),V);U.setVisible(true);google.maps.event.addListener(E,"closeclick",function(){B(P);jQueryCgmp(P).fadeOut();if(U!=null){U.unbind("position");U.setVisible(false)}U=null});google.maps.event.addListener(U,"closeclick",function(){if(U!=null){U.unbind("position");U.setVisible(false);jQueryCgmp("div#bubble-"+R.bubbleHolderId).css("background","none")}U=null})})}else{a.warn("There is not street view available for this marker location: "+Q.position+" status: "+S);jQueryCgmp("a#trigger-"+R.bubbleHolderId).live("click",function(U){U.preventDefault()});jQueryCgmp("a#trigger-"+R.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important");google.maps.event.addListener(E,"domready",function(){jQueryCgmp("a#trigger-"+R.bubbleHolderId).removeAttr("href");jQueryCgmp("a#trigger-"+R.bubbleHolderId).attr("style","text-decoration: none !important; color: #ddd !important")})}})}function l(){var P="div#direction-controls-placeholder-"+y;var Q=jQueryCgmp("div#rendered-directions-placeholder-"+y);jQueryCgmp(P+" a#reverse-btn").live("click",function(T){var S=jQueryCgmp(P+" input#a_address").val();var R=jQueryCgmp(P+" input#b_address").val();jQueryCgmp(P+" input#a_address").val(R);jQueryCgmp(P+" input#b_address").val(S);return false});jQueryCgmp(P+" a#d_options_show").live("click",function(){jQueryCgmp(P+" a#d_options_hide").show();jQueryCgmp(P+" a#d_options_show").hide();jQueryCgmp(P+" div#d_options").show();return false});jQueryCgmp(P+" a#d_options_hide").live("click",function(){jQueryCgmp(P+" a#d_options_hide").hide();jQueryCgmp(P+" a#d_options_show").show();jQueryCgmp(P+" div#d_options").hide();jQueryCgmp(P+" input#avoid_hway").removeAttr("checked");jQueryCgmp(P+" input#avoid_tolls").removeAttr("checked");jQueryCgmp(P+" input#radio_km").removeAttr("checked");jQueryCgmp(P+" input#radio_miles").attr("checked","checked");return false});jQueryCgmp(P+" button#d_sub").live("click",function(){var R=jQueryCgmp(P+" input#a_address").val();var W=jQueryCgmp(P+" input#b_address").val();var X=false;if(R==null||R==""){jQueryCgmp(P+" input#a_address").addClass("d_error");X=true}if(W==null||W==""){jQueryCgmp(P+" input#b_address").addClass("d_error");X=true}if(!X){jQueryCgmp(P+" button#d_sub").attr("disabled","disabled").html("Please wait..");var S=google.maps.DirectionsTravelMode.DRIVING;if(jQueryCgmp(P+" a#dir_w_btn").hasClass("selected")){S=google.maps.DirectionsTravelMode.WALKING}var Z=jQueryCgmp(P+" input#avoid_hway").is(":checked");var U=jQueryCgmp(P+" input#avoid_tolls").is(":checked");var V=jQueryCgmp(P+" input#radio_miles").is(":checked");var T=google.maps.DirectionsUnitSystem.METRIC;var Y={origin:R,destination:W,travelMode:S,provideRouteAlternatives:true};if(Z){Y.avoidHighways=true}if(U){Y.avoidTolls=true}if(V){Y.unitSystem=google.maps.DirectionsUnitSystem.IMPERIAL}else{Y.unitSystem=google.maps.DirectionsUnitSystem.METRIC}H.route(Y,function(ab,aa){if(aa==google.maps.DirectionsStatus.OK){Q.html("");Q.show();u.setMap(h);u.setDirections(ab);jQueryCgmp(P+" button#d_sub").removeAttr("disabled").html("Get directions");jQueryCgmp(P+" button#print_sub").fadeIn();E.close()}else{a.error('Could not route directions from "'+R+'" to "'+W+'", got result from Google: '+aa);Q.html("<span style='font-size: 12px; font-weight: bold; color: red'>Could not route directions from<br />'"+R+"' to<br />'"+W+"'<br />Got result from Google: ["+aa+"]</span>");jQueryCgmp(P+" button#print_sub").hide();jQueryCgmp(P+" button#d_sub").removeAttr("disabled").html("Get directions")}})}});jQueryCgmp(P+" button#print_sub").live("click",function(){var U=jQueryCgmp(P+" input#a_address").val();var S=jQueryCgmp(P+" input#b_address").val();var T="d";if(jQueryCgmp(P+" a#dir_w_btn").hasClass("selected")){T="w"}var R="http://maps.google.com/?saddr="+U+"&daddr="+S+"&dirflg="+T+"&pw=2";var V=jQueryCgmp(P+" input#radio_miles").is(":checked");if(V){R+="&doflg=ptm"}window.open(R);return false});jQueryCgmp(P+" input#a_address").live("change",function(){jQueryCgmp(P+" input#a_address").removeClass("d_error");return false});jQueryCgmp(P+" input#b_address").live("change",function(){jQueryCgmp(P+" input#b_address").removeClass("d_error");return false});jQueryCgmp(P+" input#a_address").live("focus",function(){jQueryCgmp(P+" input#a_address").removeClass("d_error");return false});jQueryCgmp(P+" input#b_address").live("focus",function(){jQueryCgmp(P+" input#b_address").removeClass("d_error");return false});jQueryCgmp(P+" .kd-button").live("click",function(){var R=this.id;if(R=="dir_d_btn"){if(jQueryCgmp(P+" a#dir_d_btn").hasClass("selected")){a.warn("Driving travel mode is already selected")}else{jQueryCgmp(P+" a#dir_d_btn").addClass("selected");jQueryCgmp(P+" a#dir_w_btn").removeClass("selected")}}else{if(R=="dir_w_btn"){if(jQueryCgmp(P+" a#dir_w_btn").hasClass("selected")){a.warn("Walking travel mode is already selected")}else{jQueryCgmp(P+" a#dir_w_btn").addClass("selected");jQueryCgmp(P+" a#dir_d_btn").removeClass("selected")}}}return false})}function g(U,Q){var T=[];var R=Math.floor(Math.random()*111111);R=R+"-"+y;var P="<div id='bubble-"+R+"' style='height: 130px !important; width: 300px !important;' class='bubble-content'>";if(!Q.geoMashup){P+="<h4>Address:</h4>";P+="<p style='text-align: left'>"+U+"</p>"}else{var S=Q.postTitle.substring(0,30);P+="";P+="<p style='text-align: left'><a style='font-size: 15px !important; font-weight: bold !important;' title='Original post: "+Q.postTitle+"' href='"+Q.postLink+"'>"+S+"..</a></p>";P+="<p style='font-size: 12px !important; padding-left: 12px !important; padding-right: 6px !important; text-align: left; line-height: 130% !important'>"+Q.postExcerpt+"</p>"}P+="<hr />";P+="<p style='text-align: left'>Directions: <a id='toHere-"+R+"' class='dirToHereTrigger' href='javascript:void(0);'>To here</a> - <a id='fromHere-"+R+"' class='dirFromHereTrigger' href='javascript:void(0);'>From here</a> | <a id='trigger-"+R+"' class='streetViewTrigger' href='javascript:void(0);'>Street View</a></p>";P+="</div>";return{bubbleHolderId:R,bubbleContent:P}}function m(){i=i.replace(new RegExp("'","g"),"");var P=i.split("|");a.info("Exploded CSV into locations: "+P);for(var Q=0;Q<P.length;Q++){var R=P[Q];if(R!=null&&R!=""){R=R.replace(/^\s+|\s+$/g,"");if(R==""){a.warn("Given extra marker address is empty");continue}e(R,(Q+1))}}}function b(Q,R){var P=1;jQueryCgmp.each(Q,function(){a.info("Looping over JSON object:\n\tTitle: "+this.title+"\n\tAddy: "+this.addy+"\n\tLink: "+this.permalink+"\n\tExcerpt: "+this.excerpt);var S=this.addy.split(CGMPGlobal.sep);if(O.isNumeric(S[0])){k(S[0],P,S[1],this.title,this.permalink,this.excerpt,R)}else{if(O.isAlphaNumeric(S[0])){K(S[0],P,S[1],this.title,this.permalink,this.excerpt,R)}else{K(S[0],P,S[1],this.title,this.permalink,this.excerpt,R);a.warn("Unknown type of geo destination in regexp: "+S[0]+", fallingback to store it as an address")}}P++})}function e(R,P){var Q=R.split(CGMPGlobal.sep);if(O.isNumeric(Q[0])){k(Q[0],P,Q[1],"","","",false)}else{if(O.isAlphaNumeric(Q[0])){K(Q[0],P,Q[1],"","","",false)}else{K(Q[0],P,Q[1],"","","",false);a.warn("Unknown type of geo destination in regexp: "+Q[0]+", fallingback to store it as an address")}}}function K(R,V,Q,U,P,T,S){a.info("Storing address: "+R+" for marker-to-be for the map ID: "+y);D.push({address:R,animation:google.maps.Animation.DROP,zIndex:V,markerIcon:Q,postTitle:U,postLink:P,postExcerpt:T,geoMashup:S})}function k(X,W,S,Z,R,Q,Y){if(X==null||!X){a.warn("Given GEO point containing Lat/Long is NULL");return false}var P=X;if(!(P instanceof google.maps.LatLng)){if(X.indexOf(",")!=-1){var V=X.split(",",4);if(V==null||V.length!=2){a.warn("Exploded lat/long array is NULL or does not have length of two");return false}if(V[0]==null||V[1]==null){a.warn("Lat or Long are NULL");return false}V[0]=V[0].replace(/^\s\s*/,"").replace(/\s\s*$/,"");V[1]=V[1].replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(V[0]==""||V[1]==""){a.warn("Lat or Long are empty string");return false}var T=parseFloat(V[0]);var U=parseFloat(V[1]);P=new google.maps.LatLng(T,U)}}K(P,W,S,Z,R,Q,Y)}this.buildAddressMarkers=function(S,P,R){s=true;if(P=="true"){S=S.replace(/^\s\s*/,"").replace(/\s\s*$/,"");var Q=jQueryCgmp.parseJSON(S);if(R=="true"){b(Q,true)}else{if(R=="false"){b(Q,false)}}G()}else{if(P=="false"){i=S;m();G()}}};this.shiftMapToOriginalZoomAndLocation=function(){F()};function G(){I=null;if(D.length>0){var Q=D.shift();a.info("Passing ["+Q.address+"] to Geo service. Have left "+D.length+" items to process!");if(Q.address instanceof google.maps.LatLng){L(Q)}else{var P={address:Q.address};o.geocode(P,function(T,S){q(T,S,Q)})}}else{p();if(A.length>0){var R="";jQueryCgmp.each(A,function(T,S){R+="\t"+(1+T)+". "+S+"\n"});alert("ATTENTION! (by Comprehensive Google Map Plugin)\n\nGoogle could not match given address(es):\n\n"+R+"\nConsider revising the address(es), alternatively use Google web to validate the address(es) ")}A=[]}}function p(){if(N.length>1){jQueryCgmp.each(N,function(Q,P){if(!C.contains(P.position)){C.extend(P.position)}});t=C;h.fitBounds(C);n=h.getZoom()}else{if(N.length==1){h.setCenter(N[0].position);n=h.getZoom()}}}function L(Q){var P=Q.address;Q.address=d(Q,P);J(P,Q);G()}function d(R,Q){if(R.zIndex==1){j=Q}var S=Q.lat();S=parseFloat(S);S=S.toFixed(5);var P=Q.lng();P=parseFloat(P);P=P.toFixed(5);return"Lat/Long: "+S+", "+P}function q(S,P,R){if(P==google.maps.GeocoderStatus.OK){var Q=S[0].geometry.location;J(Q,R);I=setTimeout(function(){G()},330)}else{if(P==google.maps.GeocoderStatus.OVER_QUERY_LIMIT){p();D.push(R);I=setTimeout(function(){G()},3000)}else{if(P==google.maps.GeocoderStatus.ZERO_RESULTS){a.warn("Got ZERO results for ["+R.address+"]. Have left "+N.length+" items to process");A.push(R.address);I=setTimeout(function(){G()},400)}}}}this.isBuildAddressMarkersCalled=function(){return s};function J(Q,T){var R=new google.maps.Marker({position:Q,title:T.address.replace("<br />"," :: "),content:T.address,zIndex:(T.zIndex+1000),map:h});if(R){if(T.markerIcon){var P=T.markerIcon;R.setIcon(CGMPGlobal.customMarkersUri+P);var W=null;var U=["1-default.png","2-default.png"];var S=["4-default.png","5-default.png","6-default.png","7-default.png"];if(jQueryCgmp.inArray(P,U)!=-1){W=new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/icons/msmarker.shadow.png",new google.maps.Size(59,32),new google.maps.Point(0,0),new google.maps.Point(16,33))}else{if(jQueryCgmp.inArray(P,S)!=-1){W=new google.maps.MarkerImage("http://maps.google.com/mapfiles/ms/icons/msmarker.shadow.png",new google.maps.Size(59,32),new google.maps.Point(0,0),new google.maps.Point(21,34))}else{if(P.indexOf("3-default")!=-1){W=new google.maps.MarkerImage("http://code.google.com/apis/maps/documentation/javascript/examples/images/beachflag_shadow.png",new google.maps.Size(37,32),new google.maps.Point(0,0),new google.maps.Point(10,33))}else{W=new google.maps.MarkerImage(CGMPGlobal.customMarkersUri+"shadow.png",new google.maps.Size(68,37),new google.maps.Point(0,0),new google.maps.Point(32,38))}}}var V=W.url.split("/");R.setShadow(W)}if(T.zIndex==0&&T.animation==google.maps.Animation.BOUNCE){R.setAnimation(google.maps.Animation.BOUNCE)}c(R,T);if(!M){l();M=true}N.push(R)}}};jQueryCgmp.OrchestratorHub=function(){jQueryCgmp.extend(this,jQueryCgmp.OrchestratorHub.defaultOptions);var b=[];this.getOrcs=function(){return b};this.push=function(c){b.push(c)};this.getOrc=function(c){var d={};jQueryCgmp.map(jQueryCgmp(b),function(e){if(e.mapId==c){d=e.orchestrator}});return d}};var a={info:function(b){var c="Info :: "+b;this.print(c)},raw:function(b){this.print(b)},warn:function(b){var c="Warning :: "+b;this.print(c)},error:function(b){var c="Error :: "+b;this.print(c)},fatal:function(b){var c="Fatal :: "+b;this.print(c)},print:function(b){if(jQueryCgmp.browser.msie){}else{if(jQueryCgmp.browser.mozilla&&parseInt(jQueryCgmp.browser.version)>=3){console.log(b)}else{console.log("Logger could not print because browser is Mozilla ["+jQueryCgmp.browser.mozilla+"] and its version is ["+parseInt(jQueryCgmp.browser.version)+"]")}}}};jQueryCgmp(document).ready(function(){var b=new jQueryCgmp.OrchestratorHub();jQueryCgmp.each(CGMPGlobal.maps,function(d,e){if(typeof google=="undefined"||!google){alert("ATTENTION! (by Comprehensive Google Map Plugin)\n\nDear blog/website owner,\nIt looks like Google map API could not be reached. Map generation was aborted!\n\nPlease check that Google API script was loaded in the HTML source of your web page");a.fatal("We do not have reference to Google API. Aborting map generation ..");return false}else{if(typeof GMap2!="undefined"&&GMap2){alert("ATTENTION! (by Comprehensive Google Map Plugin)\n\nDear blog/website owner,\nIt looks like your webpage has reference to the older Google API v2, in addition to the API v3 used by Comprehensive Google Map! An example of plugin using the older API v2, can be 'jquery.gmap plugin'. \n\nPlease disable conflicting plugin(s). In the meanwhile, map generation is aborted!");a.fatal("It looks like the webpage has reference to GMap2 object from Google API v2. Aborting map generation ..");return false}}var g=new google.maps.Map(document.getElementById(e.id));var c=new jQueryCgmp.GoogleMapOrchestrator(g,{bubbleAutoPan:e.bubbleautopan,zoom:parseInt(e.zoom),mapType:e.maptype});b.push({mapId:e.id,orchestrator:c});c.switchMapControl(e.maptypecontrol,jQueryCgmp.GoogleMapOrchestrator.ControlType.MAPTYPE);c.switchMapControl(e.pancontrol,jQueryCgmp.GoogleMapOrchestrator.ControlType.PAN);c.switchMapControl(e.zoomcontrol,jQueryCgmp.GoogleMapOrchestrator.ControlType.ZOOM);c.switchMapControl(e.scalecontrol,jQueryCgmp.GoogleMapOrchestrator.ControlType.SCALE);c.switchMapControl(e.scrollwheelcontrol,jQueryCgmp.GoogleMapOrchestrator.ControlType.SCROLLWHEEL);c.switchMapControl(e.streetviewcontrol,jQueryCgmp.GoogleMapOrchestrator.ControlType.STREETVIEW);if(e.showpanoramio=="true"){c.buildLayer(jQueryCgmp.GoogleMapOrchestrator.LayerType.PANORAMIO,null,e.panoramiouid)}if(e.showbike=="true"){c.buildLayer(jQueryCgmp.GoogleMapOrchestrator.LayerType.BIKE)}if(e.showtraffic=="true"){c.buildLayer(jQueryCgmp.GoogleMapOrchestrator.LayerType.TRAFFIC)}if(e.kml!=null&&e.kml!=""){c.buildLayer(jQueryCgmp.GoogleMapOrchestrator.LayerType.KML,e.kml)}else{if(e.markerlist!=null&&e.markerlist!=""){c.buildAddressMarkers(e.markerlist,e.addmarkermashup,e.geomashupbubble)}var f=c.isBuildAddressMarkersCalled();if(!f){alert('ATTENTION! (by Comprehensive Google Map Plugin)\n\nDear blog/website owner,\nIt looks like you did not specify any marker locations for the Google map!\n\nPlease check the following when adding marker locations: \n[a] \tIn the shortcode builder, did you click the "Add Marker" button before clicking "Send to Editor"?\n[b] \tIn the widget, did you click the "Add Marker" button before clicking "Save"?\n\nPlease revisit and reconfigure your widget or shortcode configuration.\n\nThe map requires at least one marker location to be added..')}}})})}(jQueryCgmp));